<section th:fragment="corte-caja" class="content-section">
	<div class="dashboard-container">
		<div class="section-header caja-dashboard-header">
			<div class="caja-dashboard-left">
				<h2><i class="fas fa-cash-register"></i> Inicio y cierre de caja</h2>
				<p class="caja-dashboard-subtitle">Corte diario e inicio de base para el siguiente día</p>
			</div>
		</div>

		<div class="stats-grid corte-caja-grid">
			<div class="stat-card">
				<div class="stat-icon bg-primary"><i class="fas fa-calendar-day"></i></div>
				<div class="stat-info">
					<h3 th:text="${fechaCorte}">--/--/----</h3>
					<p>Día del corte</p>
					<small>Fecha actual de la caja</small>
				</div>
			</div>

			<div class="stat-card">
				<div class="stat-icon bg-success"><i class="fas fa-money-bill-wave"></i></div>
				<div class="stat-info">
					<h3 th:text="'$' + ${#numbers.formatDecimal(ingresosDia, 1, 'COMMA', 2, 'POINT')}">$0.00</h3>
					<p>Ingresos del día</p>
					<small th:text="${ventasDia} + ' ventas pagadas'">0 ventas pagadas</small>
				</div>
			</div>
		</div>

		<div class="form-container mt-4" th:attr="data-ingresos-dia=${ingresosDia}">
			<h3><i class="fas fa-coins"></i> Definir base para el siguiente día</h3>
			<p class="text-muted">La base es el efectivo que se dejará en caja al iniciar el próximo día. El resto se considera retiro.</p>

			<div class="row g-3 align-items-end">
				<div class="col-md-4">
					<label for="baseSiguienteDia" class="form-label">Base para mañana</label>
					<div class="input-group">
						<span class="input-group-text">$</span>
						<input type="number" step="0.01" min="0" class="form-control" id="baseSiguienteDia" placeholder="Monto definido por el usuario">
					</div>
				</div>

				<div class="col-md-4">
					<label class="form-label">Retiro estimado</label>
					<div class="input-group">
						<span class="input-group-text">$</span>
						<input type="text" class="form-control" id="retiroEstimado" readonly value="0.00">
					</div>
					<small class="text-muted">Ingresos del día menos la base ingresada.</small>
				</div>

				<div class="col-md-4">
					<label class="form-label d-block">Acciones</label>
					<button type="button" class="btn btn-primary" id="btnCalcularCorte">
						<i class="fas fa-calculator"></i> Calcular corte
					</button>
				</div>
			</div>
		</div>
	</div>
</section>
