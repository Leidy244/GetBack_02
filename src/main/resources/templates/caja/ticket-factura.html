<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title th:text="${'Ticket ' + factura.numeroFactura}">Ticket</title>
    <style>
        @page { size: 58mm auto; margin: 5mm; }
        body {
            font-family: 'Courier New', monospace;
            width: 58mm;
            margin: 0 auto;
            font-size: 11px;
        }
        h2 { margin: 0 0 4px 0; font-size: 14px; text-align: center; }
        .muted { color: #666; font-size: 10px; }
        table { width: 100%; border-collapse: collapse; }
        th, td { padding: 3px 0; border-bottom: 1px dashed #ccc; font-size: 11px; }
        .text-end { text-align: right; }
        .text-center { text-align: center; }
        hr { border: none; border-top: 1px dashed #ccc; margin: 6px 0; }
    </style>
</head>
<body onload="window.print()">
<div style="text-align:center; margin-bottom:6px;">
    <h2>GET BACK</h2>
    <div class="muted">Ticket de Venta</div>
</div>
<div class="muted">
    <div>
        <span>Factura: </span><span th:text="${factura.numeroFactura}">FAC-0001</span>
        <span th:if="${pedido != null}"> | Mesa: <span th:text="${pedido.mesa != null ? pedido.mesa.numero : '-'}">1</span></span>
    </div>
    <div>
        <span th:text="${#temporals.format(factura.fechaEmision, 'dd/MM/yyyy HH:mm')}">01/01/2025 12:00</span>
    </div>
    <div>
        Cliente: <span th:text="${factura.clienteNombre != null ? factura.clienteNombre : 'â€”'}">Cliente</span>
    </div>
    <div>
        Pago: <span th:text="${factura.metodoPago}">EFECTIVO</span>
        | Estado: <span th:text="${factura.estadoPago}">PAGADO</span>
    </div>
</div>
<hr/>

<!-- Resumen de importes -->
<table>
    <tbody>
    <tr>
        <td>Subtotal</td>
        <td class="text-end" th:text="${#numbers.formatDecimal(factura.subtotal, 0, 2)}">0.00</td>
    </tr>
    <tr>
        <td>Descuento</td>
        <td class="text-end" th:text="${#numbers.formatDecimal(factura.valorDescuento, 0, 2)}">0.00</td>
    </tr>
    <tr>
        <td><strong>Total</strong></td>
        <td class="text-end"><strong th:text="${#numbers.formatDecimal(factura.totalPagar, 0, 2)}">0.00</strong></td>
    </tr>
    </tbody>
</table>

<hr/>
<div class="text-center muted">
    Gracias por su compra
</div>
</body>
</html>
