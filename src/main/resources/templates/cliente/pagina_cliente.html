<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Café Bar | GETBACK</title>
	<link rel="icon" type="image/png" th:href="@{/images/Logo_Ignitia.png}">
	<!-- Fuentes y librerías externas -->
	<link rel="stylesheet"
		href="https://fonts.googleapis.com/css2?family=Kanit:wght@400;600;700&family=Exo+2:wght@300;400;500&display=swap">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

	<!-- CSS -->
	<link rel="stylesheet" th:href="@{/css/pag_cliente.css}">
</head>

<body>
	<!-- Navbar -->
	<nav class="glass-nav">
		<div class="nav-container">
			<a href="#inicio" class="brand">
				<img th:src="@{/images/Logo_principal.png}" alt="Get Back" class="logo">
			</a>
			<div class="nav-links">
				<a href="#inicio" class="nav-link">Inicio</a>
				<a href="#eventos" class="nav-link">Eventos</a>
				<a href="#menu" class="nav-link">Menú</a>
				<a href="#galeria" class="nav-link">Galería</a>
				<a href="#contacto" class="nav-link">Contacto</a>
			</div>
			<button class="menu-toggle"><i class="fas fa-bars"></i></button>
		</div>
	</nav>

	<!-- Hero -->
	<header id="inicio" class="hero">
		<div class="hero-carousel">
			<div class="hero-slide active" th:style="'background-image: url(' + @{/images/event-getback.jpg} + ');'"></div>
			<div class="hero-slide" style="background-image: url('https://getbackcafebar.wordpress.com/wp-content/uploads/2024/05/get-back-cafe-bar-duitama-rock-y-licores-cocienrtos-lo-mejor-de-duitama-boyaca-colombia-musica-en-vivo.jpg');"></div>
			<div class="hero-slide" th:style="'background-image: url(' + @{/images/imagen-escalera.jpg} + ');'"></div>
			<div class="hero-slide" th:style="'background-image: url(' + @{/images/imagen-fumadora.jpg} + ');'"></div>
			<div class="hero-slide" th:style="'background-image: url(' + @{/images/imagen-tarima.jpg} + ');'"></div>
			<div class="hero-overlay"></div>
		</div>
		<div class="hero-content">
			<h1 class="hero-title"><span class="highlight">GET BACK</span><span class="subtitle">CAFÉ BAR</span>
			</h1>
			<p class="hero-text">Donde el rock, el buen café, la comida y los cócteles se encuentran</p>
			<div class="hero-buttons">
				<a href="#eventos" class="btn btn-primary">Ver Eventos</a>
			</div>
		</div>
		<div class="scroll-down"><i class="fas fa-chevron-down"></i></div>
	</header>

	<!-- Sección de eventos -->
	<section id="eventos" class="section events">
		<div class="section-header">
			<h2 class="section-title">Próximos <span class="highlight">Eventos</span></h2>
			<p class="section-subtitle">Vive la experiencia Get Back</p>
			<div class="events-controls" style="margin-top:1rem; text-align:center;">
				<input id="eventFilterInput" type="text" placeholder="Buscar eventos..." style="max-width:300px; padding:0.5rem 0.75rem; border-radius:999px; border:1px solid rgba(255,255,255,0.2); background:rgba(0,0,0,0.3); color:#fff;">
			</div>
		</div>
		<div class="menu-grid">
			<div th:each="evento : ${eventos}" class="event-card" data-row>

				<div class="menu-image">
					<img th:if="${evento.imagen}" th:src="${evento.imagen}" alt="Imagen del evento" />
					<div class="event-badge">Evento</div>
				</div>

				<div class="event-info">
					<div class="event-date">
						<span class="day" th:text="${#temporals.format(evento.fecha, 'dd')}">15</span>
						<span class="month" th:text="${#temporals.format(evento.fecha, 'MMM')}">JUL</span>
					</div>
					<div class="event-details">
						<h3 class="event-title" th:text="${evento.titulo}">Nombre del Evento</h3>
						<div class="event-meta">
							<span><i class="far fa-clock"></i> <span th:text="${evento.hora}">20:00</span></span>
						</div>
						<p class="event-description" th:text="${evento.descripcion}">Descripción del evento</p>
					</div>
				</div>
			</div>

			<div th:if="${eventos == null or eventos.empty}" class="event-card"
				style="text-align:center; padding:2rem;">
				<i class="fas fa-calendar-times fa-3x" style="color:#6a0dad; margin-bottom:1rem;"></i>
				<h3>Próximamente</h3>
				<p>Estamos preparando eventos increíbles para ti. ¡Vuelve pronto!</p>
			</div>
		</div>
		<div id="eventsPagination" style="margin-top:1.5rem; text-align:center;"></div>
	</section>

	<!-- Sección de menú/productos -->
	<section id="menu" class="section menu">
		<div class="section-header">
			<h2 class="section-title">NUESTRO <span class="highlight">MENÚ</span></h2>
			<p class="section-subtitle">Sabores que rockean</p>
		</div>
		<!-- Tarjetas de productos -->
		<div class="menu-grid">
			<div th:each="producto : ${productos}" class="menu-card">
				<div class="menu-info">
					<h3 class="menu-title" th:text="${producto.nombreProducto}">Nombre</h3>
					<p class="menu-description" th:text="${producto.descripcion}">Descripción</p>
					<div class="menu-image">
						<img th:if="${producto.imagen}" th:src="${producto.imagen}" alt="Imagen del producto" />
						<div class="menu-badge">Producto</div>
					</div>
				</div>
			</div>
			<div th:if="${productos == null or productos.empty}" style="text-align:center; padding:2rem;">
				<i class="fas fa-box-open fa-3x" style="color:#6a0dad; margin-bottom:1rem;"></i>
				<h3>Próximamente</h3>
				<p>Estamos preparando productos increíbles para ti. ¡Vuelve pronto!</p>
			</div>
		</div>
	</section>

	<!-- Galería con Thymeleaf -->
	<section id="galeria" class="section gallery">
	    <div class="section-header">
	        <h2 class="section-title">GALERÍA <span class="highlight">GET BACK</span></h2>
	        <p class="section-subtitle">Momentos que rockean</p>
	    </div>
	    <div class="gallery-grid">

	        <!-- Imágenes usando Thymeleaf -->
	        <div class="gallery-item"
	            th:style="'background-image: url(' + @{/images/event-getback.jpg} + ');'">
	        </div>

	        <div class="gallery-item"
			style="background-image: url('https://media-cdn.tripadvisor.com/media/photo-s/1b/8d/84/61/eventos-rock-get-back.jpg');">
	        </div>

	        <div class="gallery-item"
			style="background-image: url('https://getbackcafebar.wordpress.com/wp-content/uploads/2024/05/get-back-cafe-bar-duitama-rock-y-licores-cocienrtos-lo-mejor-de-duitama-boyaca-colombia-musica-en-vivo.jpg');">
	        </div>

	        <div class="gallery-item"
style="background-image: url('https://media-cdn.tripadvisor.com/media/photo-s/1a/9c/82/85/tarima-get-back-duitama.jpg');">
</div>

	        <div class="gallery-item"
	            th:style="'background-image: url(' + @{/images/imagen-comida.jpg} + ');'">
	        </div>

	        <div class="gallery-item"
	            th:style="'background-image: url(' + @{/images/imagen-escalera.jpg} + ');'">
	        </div>

	        <div class="gallery-item"
	            th:style="'background-image: url(' + @{/images/imagen-fumadora.jpg} + ');'">
	        </div>

	        <div class="gallery-item"
	            th:style="'background-image: url(' + @{/images/imagen-tarima.jpg} + ');'">
	        </div>

	    </div>
	</section>

	<!-- Footer -->
	<footer id="contacto" class="footer">
		<div class="footer-content">
			<div class="footer-logo">
				<img th:src="@{/images/Logo_principal.png}" alt="Get Back" class="logo">
				<p>Café Bar Rock y Metal</p>
			</div>

			<div class="contact-info">
				<h2 class="contact-title">Ven a <span class="highlight">Visitarnos</span></h2>
				<div class="info-item"><i class="fas fa-map-marker-alt"></i>
					<p>Calle 17 # 13-30 <br>Duitama, Boyaca</p>
				</div>
				<div class="info-item"><i class="fas fa-phone-alt"></i>
					<p>(+57) 320-307-8293</p>
				</div>
				<div class="info-item"><i class="fas fa-envelope"></i>
					<p>reservas@getback.com</p>
				</div>
				<div class="info-item"><i class="fas fa-clock"></i>
					<p>Lunes a Viernes: 6PM - 2AM<br>Sábado y Domingo: 5PM - 3AM</p>
				</div>
				<div class="social-links">
					<a href="https://www.instagram.com/getbackcafebar/" class="social-link"><i class="fab fa-instagram"></i></a>
					<a href="https://www.facebook.com/getbackcafebar/" class="social-link"><i class="fab fa-facebook-f"></i></a>
					<a href="https://www.waze.com/en/live-map/directions/co/boyaca/duitama/get-back-cafe-bar?place=ChIJqV8_Fkw_ao4Rwyxhnf0qyEs" class="social-link"><i class="fab fa-waze"></i></a>
					<a href="https://maps.app.goo.gl/JSXkfiJy5dCnVvPv8" class="social-link"><i class="fas fa-map-marker-alt"></i></a>
				</div>
			</div>

			<div class="footer-newsletter">
				<h3>Notificaciones</h3>
				<p>Suscríbete para recibir información de eventos especiales</p>
				<form class="newsletter-form">
					<input type="email" placeholder="Tu email">
					<button type="submit"><i class="fas fa-paper-plane"></i></button>
				</form>
			</div>
		</div>
		<div class="footer-bottom">
			<p>&copy; 2025 Get Back Café Bar. Todos los derechos reservados.</p>
			<div class="legal-links">
				<a href="#">Términos</a>
				<a href="#">Privacidad</a>
				<a href="#">Cookies</a>
			</div>
		</div>
	</footer>

	<!-- Script -->
	<script th:src="@{/js/script.js}"></script>
	<script>
		(function(){
		  const run = () => {
			const container = document.querySelector('#eventos .menu-grid');
			const filterInput = document.getElementById('eventFilterInput');
			const pager = document.getElementById('eventsPagination');
			const pageSize = 4;
			let rows = Array.from(container ? container.querySelectorAll('.event-card[data-row]') : []);
			let emptyRow = container ? container.querySelector('.event-card:not([data-row])') : null;
			let filtered = rows.slice();
			let page = 1;

			function getText(r){
			  const title = r.querySelector('.event-title');
			  const desc = r.querySelector('.event-description');
			  return ((title ? title.innerText : '') + ' ' + (desc ? desc.innerText : '')).toLowerCase();
			}

			function render(){
			  rows.forEach(r => r.style.display = 'none');
			  if (emptyRow) emptyRow.style.display = 'none';
			  const total = filtered.length;
			  const pages = Math.max(1, Math.ceil(total / pageSize));
			  page = Math.min(page, pages);
			  const start = (page - 1) * pageSize;
			  const end = start + pageSize;
			  if (total > 0) {
				filtered.slice(start, end).forEach(r => r.style.display = '');
			  } else if (emptyRow) {
				emptyRow.style.display = '';
			  }
			  renderPager(pages, total);
			}

			function renderPager(pages, total){
			  if (!pager) return;
			  pager.innerHTML = '';
			  if (total <= pageSize) return; // sin paginación si caben en una sola página
			
			  const prev = document.createElement('button');
			  prev.type = 'button'; prev.className = 'btn-pager'; prev.textContent = '«';
			  prev.disabled = page <= 1; prev.onclick = () => { page--; render(); };
			  pager.appendChild(prev);
			
			  for (let i = 1; i <= pages; i++){
				const b = document.createElement('button');
				b.type = 'button'; b.className = 'btn-pager ' + (i===page?'active':'');
				b.textContent = i;
				b.onclick = () => { page = i; render(); };
				pager.appendChild(b);
			  }
			
			  const next = document.createElement('button');
			  next.type = 'button'; next.className = 'btn-pager'; next.textContent = '»';
			  next.disabled = page >= pages; next.onclick = () => { page++; render(); };
			  pager.appendChild(next);
			}

			function applyFilter(){
			  const q = (filterInput?.value || '').toLowerCase().trim();
			  filtered = q ? rows.filter(r => getText(r).includes(q)) : rows.slice();
			  page = 1; render();
			}

			if (filterInput) filterInput.addEventListener('input', applyFilter);
			render();

			// Carrusel del header (hero)
			const hero = document.querySelector('.hero');
			const slides = hero ? hero.querySelectorAll('.hero-slide') : null;
			if (slides && slides.length > 1) {
			  let current = 0;
			  slides.forEach((s, i) => {
				if (i === 0) {
				  s.classList.add('active');
				} else {
				  s.classList.remove('active');
				}
			  });
			  setInterval(() => {
				const total = slides.length;
				if (total < 2) return;
				slides[current].classList.remove('active');
				current = (current + 1) % total;
				slides[current].classList.add('active');
			  }, 3000);
			}
		  };
		  if (document.readyState === 'loading') {
			document.addEventListener('DOMContentLoaded', run);
		  } else {
			run();
		  }
		})();
	</script>

</body>

</html>